// --- ДАННЫЕ ДЛЯ ДВУХ ТЕСТОВ ---
const tests = {
    exam: {
        title: 'вопросы шмары',
        questions: [
            {question: 'Что такое машинное обучение и к какой области науки оно относится?', answers: ['Наука о создании автономных роботизированных систем.','Раздел искусственного интеллекта, изучающий алгоритмы, автоматически извлекающие знания из данных.','Раздел прикладной статистики, занимающийся анализом вероятностных распределений.','Технология параллельной обработки больших массивов неструктурированных данных.','Методология разработки программного обеспечения для интерактивных виртуальных симуляций.'], correctAnswer: 1},
            {question: 'В чем заключается основное отличие данных от знаний?', answers: ['Данные – это дискретные символы, знания – непрерывные сигналы.','Данные – это зарегистрированные факты, знания – информация, позволяющая принимать решения и прогнозировать результаты.','Знания хранятся в семантических сетях, данные – в реляционных базах данных.','Данные атомарны, знания формируются на основе связей между данными.','Знания – результат когнитивных процессов, данные – результат сенсорного восприятия.'], correctAnswer: 1},
            {question: 'Какие типы данных могут использоваться для обучения моделей машинного обучения?', answers: ['Исключительно структурированные числовые таблицы.','Разнородные форматы, включая текст, изображения, аудио, видео и табличные данные.','Только векторные графические изображения.','Данные, сгенерированные пользователями социальных медиа-платформ.','Преимущественно структурированные базы данных, поддерживающие SQL-запросы.'], correctAnswer: 1},
            {question: 'Что такое глубокое обучение и чем оно отличается от традиционного машинного обучения?', answers: ['Метод распределенных вычислений в облачной среде.','Архитектура машинного обучения, основанная на многослойных нейронных сетях, автоматически извлекающих признаки.','Парадигма обучения моделей без учителя.','Подход к машинному обучению, сфокусированный на анализе естественного языка.','Применение вычислительных методов для моделирования физических процессов.'], correctAnswer: 1},
            {question: 'Какую роль играют нейронные сети в машинном обучении?', answers: ['Инструмент сжатия и хранения больших объемов данных.','Математическая модель, имитирующая биологические нейронные сети, для решения задач распознавания и принятия решений.','Технология защиты данных с помощью криптографических алгоритмов.','Механизм генерации случайных чисел для стохастических алгоритмов.','Способ визуализации многомерных данных в пространстве меньшей размерности.'], correctAnswer: 1},
            {question: 'Применение алгоритмов машинного обучения в прогнозировании.', answers: ['Разработка интерактивных развлекательных приложений.','Прогнозирование динамики сложных систем, например, состояния дорог или поломок оборудования.','Создание кросс-платформенных мобильных приложений.','Автоматизированное управление финансовыми портфелями.','Генерация музыкальных произведений на основе заданных параметров.'], correctAnswer: 1},
            {question: 'Какие задачи можно решить с помощью глубокого обучения?', answers: ['Только классификация статических изображений.','Сложные задачи, такие как распознавание речи, обработка естественного языка и медицинская диагностика.','Создание статических и динамических графических презентаций.','Управление поведением автономных роботов.','Обеспечение безопасности данных при передаче по сети.'], correctAnswer: 1},
            {question: 'Почему для глубокого обучения требуется большое количество данных и вычислительных ресурсов?', answers: ['Для создания визуально привлекательных графиков и отчетов.','Многослойные нейронные сети имеют огромное количество параметров, требующих настройки на большом объеме данных.','Для обеспечения отказоустойчивости систем хранения данных.','Для эффективной работы с задачами, имеющими малое количество признаков.','Чтобы использовать простые и быстрые алгоритмы машинного обучения.'], correctAnswer: 1},
            {question: 'Что такое преобразование данных и зачем оно нужно в аналитике?', answers: ['Процесс необратимого удаления устаревшей информации.','Процесс модификации данных для улучшения их качества и пригодности для анализа.','Комплекс операций по изменению формата файлов и метаданных.','Набор методов для защиты данных от несанкционированного доступа.','Регулярное создание резервных копий баз данных.'], correctAnswer: 1},
            {question: 'В чем разница между преобразованием данных и преобразованием признаков?', answers: ['Преобразование данных – операции над всем набором, преобразование признаков – фокусировка на отдельных переменных.','Преобразование данных включает шифрование, преобразование признаков – нормализацию.','Это синонимы.','Преобразование данных применяется к неструктурированным данным, преобразование признаков – к структурированным.','Преобразование данных выполняется на этапе сбора, преобразование признаков – на этапе моделирования.'], correctAnswer: 0},
            {question: 'Binding, Mapping и Reducing.', answers: ['Методы криптографической защиты данных.','Этапы процесса ETL (извлечение, преобразование, загрузка данных).','Основные парадигмы алгоритмов машинного обучения.','Типы архитектур нейронных сетей.','Способы визуализации многомерных данных.'], correctAnswer: 1},
            {question: 'Какие основные методы нормализации данных вы знаете?', answers: ['Методы агрегации данных для уменьшения объема.','Min-Max Scaling, Z-score Standardization, Robust Scaler.','Алгоритмы шифрования с использованием симметричных и асимметричных ключей.','Методы генерации синтетических данных.','Способы обработки пропущенных значений.'], correctAnswer: 1},
            {question: 'В каких случаях целесообразно применять Log Transform или Square Root Transform?', answers: ['Для усиления влияния выбросов.','Для коррекции асимметричного распределения и уменьшения влияния экстремальных значений.','Для создания новых производных признаков.','Для обеспечения конфиденциальности числовых данных.','Для улучшения визуального восприятия распределения данных.'], correctAnswer: 1},
            {question: 'Что такое One-Hot Encoding и зачем он используется?', answers: ['Метод сжатия категориальных данных.','Способ преобразования категориальных переменных в числовой формат.','Техника обработки отсутствующих значений в категориальных признаках.','Алгоритм шифрования текстовой информации.','Метод генерации случайных категориальных значений.'], correctAnswer: 1},
            {question: 'Для чего применяется метод PCA в процессе преобразования признаков?', answers: ['Для увеличения размерности признакового пространства.','Для уменьшения размерности данных за счет выделения главных компонент.','Для шифрования числовых признаков.','Для преобразования числовых признаков в категориальные.','Для визуализации многомерных данных в двумерном пространстве.'], correctAnswer: 1},
            {question: 'Что включает в себя процесс Feature Engineering?', answers: ['Процедура отбора наиболее значимых признаков.','Комплекс действий по созданию, преобразованию и отбору признаков.','Методы кодирования категориальных признаков.','Процесс очистки данных от шума и выбросов.','Стратегии обработки пропущенных значений.'], correctAnswer: 1},
            {question: 'Что такое облачные технологии и в чем заключается их основное преимущество?', answers: ['Локальное хранение и обработка данных на физических серверах.','Предоставление вычислительных ресурсов и сервисов через интернет как услуга; ключевое преимущество — экономическая эффективность и масштабируемость. ','Использование распределенных сетей хранения данных.','Разработка программного обеспечения для работы в режиме офлайн.','Управление собственной ИТ-инфраструктурой без привлечения внешних провайдеров.'], correctAnswer: 1},
            {question: 'Какие три модели облачных услуг существуют?', answers: ['Набор сетевых протоколов (HTTP, FTP, TCP/IP).','IaaS (Инфраструктура как услуга), PaaS (Платформа как услуга), SaaS (Программное обеспечение как услуга). ','Основные языки программирования (HTML, CSS, JavaScript).','Ключевые аппаратные компоненты компьютера (CPU, GPU, RAM).','Типы компьютерных сетей (LAN, WAN, VPN).'], correctAnswer: 1},
            {question: 'Какие управленческие и экономические преимущества дают облачные технологии?', answers: ['Увеличение капитальных затрат на приобретение и обслуживание собственной ИТ-инфраструктуры.','Сокращение операционных расходов, оптимизация использования ресурсов, повышение гибкости и мобильности бизнес-процессов. ','Полный контроль над физическим размещением и безопасностью данных.','Снижение уровня автоматизации и увеличение потребности в ручном управлении ИТ-системами.','Ограничение доступа к данным и приложениям вне корпоративной сети.'], correctAnswer: 1},
            {question: 'Что такое гиперконвергентная инфраструктура и чем она отличается от традиционного ЦОД?', answers: ['Интегрированная программно-аппаратная платформа, объединяющая вычислительные ресурсы, хранение и сеть в единую систему с возможностью горизонтального масштабирования; отличается упрощенным управлением и гибкостью. ','Инфраструктура, основанная на раздельных физических серверах для вычислений, системах хранения данных SAN/NAS и сетевом оборудовании; отличается сложностью управления и масштабирования.','Облачная инфраструктура, предоставляемая внешним провайдером по модели "как услуга".','Виртуализированная среда, в которой все вычислительные ресурсы и системы хранения представлены в виде виртуальных машин.','Распределенная система хранения данных, обеспечивающая высокую доступность и отказоустойчивость.'], correctAnswer: 0},
            {question: 'Какие технические меры защиты используются в облачных хранилищах для обеспечения безопасности данных?', answers: ['Использование стандартных паролей без дополнительной аутентификации.','Применение многоуровневой защиты, включающей межсетевые экраны, шифрование данных на разных уровнях, системы обнаружения и предотвращения вторжений. ','Регулярное удаление устаревших данных без возможности восстановления.','Отсутствие резервного копирования критически важной информации для экономии ресурсов.','Использование незащищенных протоколов передачи данных для повышения производительности.'], correctAnswer: 1},
            {question: 'Каковы основные регуляторные цели, способствующие появлению FinTech экосистем?', answers: ['Введение ограничений на развитие инновационных финансовых технологий.','Создание благоприятной среды для инноваций, обеспечение защиты прав потребителей, стандартизация процессов и повышение прозрачности финансовых рынков.','Стимулирование использования традиционных финансовых инструментов и услуг.','Замедление процессов цифровизации в финансовом секторе.','Увеличение контроля государства над финансовыми операциями.'], correctAnswer: 1},
            {question: 'Перечислите ключевые потребности поставщиков в FinTech экосистемах.', answers: ['Увеличение операционных издержек и усложнение бизнес-процессов.','Привлечение клиентов, снижение затрат, автоматизация рутинных операций, расширение спектра предлагаемых услуг.','Ограничение доступа к новым технологиям и инновационным решениям.','Сохранение традиционных бизнес-моделей без внедрения цифровых технологий.','Увеличение зависимости от посредников и снижение прямого взаимодействия с клиентами.'], correctAnswer: 1},
            {question: 'Какие технологические факторы способствуют развитию FinTech?', answers: ['Ограниченное распространение высокоскоростного интернета и мобильной связи.','Развитие искусственного интеллекта, технологии распределенного реестра (блокчейн), облачных вычислений, больших данных и мобильных технологий. ','Преимущественное использование аналоговых средств связи и обработки информации.','Низкий уровень проникновения цифровых технологий среди населения.','Отсутствие стандартизированных протоколов обмена данными между финансовыми учреждениями.'], correctAnswer: 1},
            {question: 'Приведите примеры того, как могут выглядеть платформы в FinTech.', answers: ['Физические отделения банков и страховых компаний.','Цифровые платежные системы, онлайн-площадки для кредитования и инвестирования, системы цифровой идентификации.','Традиционные фондовые биржи и брокерские компании.','Инфраструктура телекоммуникационных сетей.','Системы бухгалтерского учета и отчетности.'], correctAnswer: 1},
            {question: 'Каким образом внедрение платформ влияет на конкурентную среду в финансовой индустрии?', answers: ['Способствует монополизации рынка крупными игроками.','Усиливает конкуренцию за счет снижения барьеров входа, повышения прозрачности и расширения доступа к финансовым услугам.','Ограничивает инновации и стандартизирует предлагаемые финансовые продукты.','Увеличивает затраты на привлечение и удержание клиентов.','Приводит к фрагментации рынка и снижению эффективности взаимодействия между участниками.'], correctAnswer: 1},
            {question: 'Какие преимущества предоставляют единые бизнес-правила в рамках FinTech платформ?', answers: ['Создают избыточную бюрократию и замедляют операционные процессы.','Обеспечивают стандартизацию процессов, снижают транзакционные издержки, повышают уровень доверия и упрощают взаимодействие между участниками экосистемы. ','Ограничивают гибкость и адаптивность бизнес-моделей участников платформы.','Увеличивают риски возникновения ошибок и мошенничества.','Снижают уровень инноваций за счет унификации подходов.'], correctAnswer: 1},
            {question: 'Как платформы влияют на бизнес-модели банков?', answers: ['Приводят к полной потере клиентами доверия к традиционным банковским учреждениям.','Способствуют интеграции банков с платформами, автоматизации внутренних процессов, расширению каналов взаимодействия с клиентами и разработке новых гибридных продуктов. ','Заставляют банки полностью отказаться от использования цифровых технологий и вернуться к традиционным методам работы.','Ограничивают возможности банков по предоставлению персонализированных услуг.','Увеличивают операционные риски и снижают уровень безопасности банковских операций.'], correctAnswer: 1},
            {question: 'Какие виды банковских продуктов могут быть интегрированы в новую FinTech систему?', answers: ['Преимущественно базовые транзакционные продукты и депозитные счета.','Широкий спектр продуктов, включая кредиты, платежи, инвестиционные продукты и страхование.','Только ипотечные кредиты и автокредиты.','Только продукты, связанные с криптовалютами и цифровыми активами.','Продукты, требующие личного присутствия клиента в банковском отделении.'], correctAnswer: 1},
            {question: 'Что такое маркетплейс кредитование (marketplace lending)?', answers: ['Продажа товаров на рынке.','P2P-кредитование через онлайн-платформы, соединяющее заемщиков и кредиторов без посредничества традиционных банков.','Кредитование, осуществляемое исключительно крупными корпорациями.','Финансирование с использованием криптовалют и блокчейн-технологий.','Процесс выдачи кредитов через физические банковские отделения.'], correctAnswer: 1},
            {question: 'Каковы основные отличия P2P-кредитования от традиционного кредитования?', answers: ['Использование телеграфной связи для передачи кредитных заявок.','Отсутствие банков-посредников, применение инновационных моделей андеррайтинга и скоринга на основе альтернативных данных.','Ориентация исключительно на заемщиков с высоким уровнем дохода.','Полный отказ от использования цифровых технологий и онлайн-платформ.','Выдача кредитов исключительно в форме драгоценных металлов.'], correctAnswer: 1},
            {question: 'Назовите три основные платформы маркетплейс кредитования и укажите страны, в которых они были созданы.', answers: ['LendingClub (США), Funding Circle (Великобритания), Zopa (Великобритания).','Amazon (США), Alibaba (Китай), eBay (США).','Google (США), Facebook (США), Twitter (США).','Tesla (США), Samsung (Южная Корея), Sony (Япония).','Boeing (США), Airbus (Евросоюз), SpaceX (США).'], correctAnswer: 0},
            {question: 'Кто является основными участниками маркетплейс кредитования?', answers: ['Только традиционные банки и центральные банки.','P2P-платформы, индивидуальные и институциональные инвесторы, заемщики.','Исключительно государственные органы и некоммерческие организации.','Крупные розничные сети и торговые площадки.','Страховые компании и пенсионные фонды.'], correctAnswer: 1},
            {question: 'Какие виды P2P платформ существуют?', answers: ['Платформы, специализирующиеся исключительно на микрозаймах.','Платформы, предлагающие потребительские кредиты, бизнес-кредиты и ипотечные займы.','Платформы для обмена криптовалютами и цифровыми активами.','Платформы для краудфандинга творческих проектов.','Платформы для лизинга оборудования и транспортных средств.'], correctAnswer: 1},
            {question: 'Перечислите 6 "C" P2P и кратко опишите значение каждого из них.', answers: ['Character, Capacity, Capital, Collateral, Conditions, Credit Score','Cloud, Code, Cache, CPU, Crypto, Cybersecurity','Cash, Cars, Clothes, Credit Cards, Contracts, Commodities','China, Canada, Chile, Cuba, Congo, Croatia','Cat, Dog, Cow, Chicken, Camel, Crow'], correctAnswer: 0}
        ]
    },
    exam2: {
        title: 'вопросы Gemini',
        questions: [
            {question: 'Какая парадигма машинного обучения предполагает построение функции F: X -> Y?', answers: ['Обучение с подкреплением','Обучение без учителя','Обучение с учителем','Глубокое обучение'], correctAnswer: 2},
            {question: 'Что является основной целью преобразования признаков в машинном обучении?', answers: ['Уменьшение объема данных','Повышение вычислительной эффективности алгоритмов','Улучшение качества признаков для повышения точности модели','Визуализация данных'], correctAnswer: 2},
            {question: 'Какой метод преобразования данных наиболее эффективно справляется с асимметрией распределения и уменьшает влияние выбросов?', answers: ['Min-Max Scaling','Z-score Standardization','Log Transform или Square Root Transform','One-Hot Encoding'], correctAnswer: 2},
            {question: 'Какой метод масштабирования данных приводит среднее значение к 0, а стандартное отклонение к 1?', answers: ['Min-Max Scaling','Z-score Standardization','MaxAbs Scaling','Robust Scaler'], correctAnswer: 1},
            {question: 'Какой метод масштабирования данных сохраняет нулевые значения и масштабирует данные в диапазоне -1 до 1?', answers: ['Min-Max Scaling','Z-score Standardization','MaxAbs Scaling','Robust Scaler'], correctAnswer: 2},
            {question: 'Какой метод масштабирования данных наиболее устойчив к выбросам?', answers: ['Min-Max Scaling','Z-score Standardization','MaxAbs Scaling','Robust Scaler'], correctAnswer: 3},
            {question: 'Что такое гиперконвергентная инфраструктура?', answers: ['Модель облачных вычислений','Тип базы данных','Архитектура ЦОД, объединяющая вычислительные, сетевые ресурсы и хранилище в единую систему','Метод виртуализации'], correctAnswer: 2},
            {question: 'Какие компоненты входят в состав гиперконвергентной инфраструктуры?', answers: ['Только вычислительные ресурсы и системы хранения','Вычислительные ресурсы, системы хранения и сетевые ресурсы','Только сетевые ресурсы и программное обеспечение','Программное обеспечение и аппаратное обеспечение конечных пользователей'], correctAnswer: 1},
            {question: 'Какие преимущества предоставляет гиперконвергентная инфраструктура по сравнению с традиционным ЦОД?', answers: ['Увеличение занимаемого пространства и энергопотребления','Снижение затрат, упрощение масштабируемости и повышение отказоустойчивости','Увеличение затрат на обслуживание и сложность масштабирования','Повышенная потребность в обслуживающем персонале'], correctAnswer: 1},
            {question: 'Какие средства защиты используются для обеспечения безопасности облачных хранилищ?', answers: ['Только антивирусное программное обеспечение','Только физическая охрана','Комплексные меры, включающие межсетевые экраны, системы обнаружения вторжений и шифрование данных','Стандартные пароли и отсутствие резервного копирования'], correctAnswer: 2},
            {question: 'Каковы основные предпосылки для появления FinTech экосистем?', answers: ['Только технологические факторы','Только регуляторные цели','Сочетание регуляторных целей, потребностей поставщиков и потребителей, а также технологический базис','Только потребности поставщиков'], correctAnswer: 2},
            {question: 'Что включает в себя технологический базис FinTech экосистем?', answers: ['Только традиционные банковские технологии','Исключительно аналоговые финансовые инструменты','Блокчейн, искусственный интеллект, облачные вычисления, открытые API','Только физические каналы распространения финансовых услуг'], correctAnswer: 2},
            {question: 'Какую роль играют платформы в FinTech экосистемах?', answers: ['Ограничивают взаимодействие между участниками рынка','Обеспечивают инфраструктуру для взаимодействия поставщиков и потребителей финансовых услуг','Заменяют традиционные финансовые институты','Увеличивают транзакционные издержки'], correctAnswer: 1},
            {question: 'Как внедрение платформ влияет на конкуренцию в финансовой индустрии?', answers: ['Снижает конкуренцию','Усиливает конкуренцию за счет повышения прозрачности и доступности услуг','Не оказывает влияния на конкуренцию','Приводит к монополизации рынка'], correctAnswer: 1},
            {question: 'Что такое маркетплейс кредитование?', answers: ['Традиционное банковское кредитование','Кредитование, осуществляемое через онлайн-платформы без участия банков-посредников','Кредитование, осуществляемое только крупными корпорациями','Система ипотечного кредитования'], correctAnswer: 1},
            {question: 'Каковы основные участники маркетплейс кредитования?', answers: ['Только банки и заемщики','Платформы, инвесторы и заемщики','Только государство и заемщики','Страховые компании и заемщики'], correctAnswer: 1},
            {question: 'Что из перечисленного является преимуществом облачного хранения данных?', answers: ['Ограниченная масштабируемость','Высокие капитальные затраты на инфраструктуру','Оперативное предоставление ресурсов и гибкость','Низкий уровень безопасности данных'], correctAnswer: 2},
            {question: 'Какой тип данных является целевой переменной (Y) в задаче машинного обучения?', answers: ['Признаки (X)','Независимые переменные','Зависимые переменные','Категориальные переменные'], correctAnswer: 2},
            {question: 'Какой метод преобразования признаков используется для уменьшения размерности данных?', answers: ['One-Hot Encoding','PCA','Log Transform','Min-Max Scaling'], correctAnswer: 1},
            {question: 'Что из перечисленного НЕ является преимуществом облачных технологий?', answers: ['Снижение затрат на ИТ-инфраструктуру','Повышенная безопасность данных','Ограниченная масштабируемость ресурсов','Мобильность и доступность данных'], correctAnswer: 2},
            {question: 'Какая модель облачных услуг позволяет арендовать виртуальные машины, хранилище и другие ресурсы?', answers: ['SaaS','PaaS','IaaS','DaaS'], correctAnswer: 2},
            {question: 'Что такое ETL в контексте преобразования данных?', answers: ['Метод шифрования данных','Процесс извлечения, преобразования и загрузки данных','Алгоритм машинного обучения','Тип базы данных'], correctAnswer: 1},
            {question: 'Что из перечисленного является регуляторной целью развития FinTech экосистем?', answers: ['Ограничение конкуренции','Защита прав потребителей и создание доверенной среды','Увеличение бюрократии','Замедление инноваций'], correctAnswer: 1},
            {question: 'Какой тип данных может быть использован в машинном обучении?', answers: ['Только числовые данные','Только текстовые данные','Числовые, текстовые, графические, аудио и видео данные','Только данные временных рядов'], correctAnswer: 2},
            {question: 'Что такое "шум" в контексте машинного обучения?', answers: ['Необработанные данные','Нежелательные данные, которые мешают обучению модели','Зашифрованные данные','Отсутствующие данные'], correctAnswer: 1},
            {question: 'Какая технология лежит в основе многих FinTech решений?', answers: ['Аналоговые вычисления','Ручной ввод данных','Искусственный интеллект и блокчейн','Факсимильная связь'], correctAnswer: 2},
            {question: 'Что из перечисленного является примером платформы в FinTech?', answers: ['Традиционный банк','Онлайн-сервис для P2P-кредитования','Физический магазин','Завод-производитель'], correctAnswer: 1},
            {question: 'Что такое андеррайтинг в контексте кредитования?', answers: ['Процесс выдачи кредита без проверки заемщика','Процесс оценки кредитоспособности заемщика','Процесс рефинансирования кредита','Процесс секьюритизации кредита'], correctAnswer: 1},
            {question: 'Что такое API в контексте FinTech?', answers: ['Физический офис банка','Протокол для обмена бумажными документами','Интерфейс для обмена данными между приложениями','Форма кредитного договора'], correctAnswer: 2},
            {question: 'Что такое краудфандинг?', answers: ['Финансирование проекта одним крупным инвестором','Сбор средств на проект от большого количества людей','Государственное финансирование','Финансирование только через банковские кредиты'], correctAnswer: 1},
            {question: 'Что такое скоринг?', answers: ['Система начисления процентов по кредиту','Система оценки кредитоспособности заемщика на основе данных','Система страхования кредитных рисков','Система управления просроченной задолженностью'], correctAnswer: 1},
            {question: 'Что такое блокчейн?', answers: ['Централизованная база данных','Распределенный реестр данных','Программа для обработки текстов','Тип ценной бумаги'], correctAnswer: 1},
            {question: 'Что такое робоэдвайзинг?', answers: ['Система автоматизированного управления роботами','Система автоматизированного финансового консультирования','Программа для торговли на бирже','Система распознавания лиц'], correctAnswer: 1},
            {question: 'Что такое Big Data?', answers: ['Маленькие наборы данных','Очень большие и сложные наборы данных','Данные в формате Excel','Данные, которые помещаются в оперативную память компьютера'], correctAnswer: 1},
            {question: 'Что такое облачные вычисления?', answers: ['Вычисления на локальном компьютере','Предоставление вычислительных ресурсов через интернет','Вычисления на суперкомпьютерах','Вычисления с использованием квантовых компьютеров'], correctAnswer: 1}
        ]
    }
};

// --- ВСТАВИТЬ ВОПРОСЫ ИЗ exam и exam2 СЮДА ---
// ... existing code ...

// --- ЛОГИКА ПЕРЕКЛЮЧЕНИЯ ТЕСТА ---
let currentTestKey = 'exam';
let questions = tests[currentTestKey].questions;

function switchTest(testKey) {
    currentTestKey = testKey;
    questions = tests[currentTestKey].questions;
    currentQuestionIndex = 0;
    score = 0;
    answeredQuestions = new Set();
    userAnswers = [];
    shuffledAnswersMap = {};
    document.getElementById('testTitle').textContent = tests[currentTestKey].title;
    showQuestion();
    updateAttemptsList();
}

document.getElementById('testSelector').addEventListener('change', function() {
    switchTest(this.value);
});

document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('testSelector').value = 'exam';
    document.getElementById('testTitle').textContent = tests['exam'].title;
    currentTestKey = 'exam';
    questions = tests[currentTestKey].questions;
    currentQuestionIndex = 0;
    score = 0;
    answeredQuestions = new Set();
    userAnswers = [];
    shuffledAnswersMap = {};
    showQuestion();
    updateAttemptsList();
});

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

function updateProgress() {
    const progressFill = document.querySelector('.progress-fill');
    const progressText = document.getElementById('currentQuestion');
    const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
    progressFill.style.width = `${progress}%`;
    progressText.textContent = currentQuestionIndex + 1;
}

function showQuestion() {
    const questionContainer = document.querySelector('.question-container');
    const resultContainer = document.querySelector('.result-container');
    
    if (currentQuestionIndex >= questions.length) {
        questionContainer.style.display = 'none';
        resultContainer.style.display = 'block';
        showResults();
        return;
    }

    questionContainer.style.display = 'block';
    resultContainer.style.display = 'none';

    const question = questions[currentQuestionIndex];
    document.getElementById('questionText').textContent = question.question;
    
    const answersContainer = document.getElementById('answers');
    answersContainer.innerHTML = '';
    
    // Если уже есть перемешанные индексы для этого вопроса, используем их, иначе создаём новые
    let shuffledIndices = shuffledAnswersMap[currentQuestionIndex];
    if (!shuffledIndices) {
        shuffledIndices = shuffleArray([...Array(question.answers.length).keys()]);
        shuffledAnswersMap[currentQuestionIndex] = shuffledIndices;
    }

    shuffledIndices.forEach((answerIndex, displayIndex) => {
        const button = document.createElement('button');
        button.className = 'answer-button';
        button.textContent = question.answers[answerIndex];

        // Подсветка после ответа
        if (answeredQuestions.has(currentQuestionIndex)) {
            const userAnswer = userAnswers[currentQuestionIndex];
            if (answerIndex === question.correctAnswer) {
                button.classList.add('correct');
            }
            if (userAnswer && userAnswer.selectedShuffledIndex === displayIndex && answerIndex !== question.correctAnswer) {
                button.classList.add('incorrect');
            }
        }

        button.addEventListener('click', () => handleAnswer(displayIndex));
        answersContainer.appendChild(button);
    });

    updateProgress();
}

function handleAnswer(selectedShuffledIndex) {
    if (answeredQuestions.has(currentQuestionIndex)) return;

    const question = questions[currentQuestionIndex];
    const shuffledIndices = shuffledAnswersMap[currentQuestionIndex];
    const selectedAnswerIndex = shuffledIndices[selectedShuffledIndex];
    const buttons = document.querySelectorAll('.answer-button');

    buttons.forEach((button, displayIndex) => {
        const answerIndex = shuffledIndices[displayIndex];
        if (answerIndex === question.correctAnswer) {
            button.classList.add('correct');
        }
        if (displayIndex === selectedShuffledIndex && answerIndex !== question.correctAnswer) {
            button.classList.add('incorrect');
        }
    });

    if (selectedAnswerIndex === question.correctAnswer) {
        score++;
    }

    userAnswers[currentQuestionIndex] = {
        questionIndex: currentQuestionIndex,
        selectedAnswer: selectedAnswerIndex,
        selectedShuffledIndex: selectedShuffledIndex,
        correctAnswer: question.correctAnswer,
        isCorrect: selectedAnswerIndex === question.correctAnswer
    };

    answeredQuestions.add(currentQuestionIndex);

    setTimeout(() => {
        currentQuestionIndex++;
        showQuestion();
    }, 700);
}

function saveAttempt() {
    const attemptName = document.getElementById('attemptName').value.trim() || `Попытка ${attempts.length + 1}`;
    
    const attempt = {
        id: Date.now(),
        name: attemptName,
        date: new Date().toLocaleString(),
        score: score,
        percentage: Math.round((score / questions.length) * 100),
        answers: userAnswers
    };
    
    attempts.push(attempt);
    localStorage.setItem('attempts', JSON.stringify(attempts));
    
    updateAttemptsList();
    document.getElementById('attemptName').value = '';
}

function updateAttemptsList() {
    const attemptsList = document.getElementById('attemptsList');
    attemptsList.innerHTML = '';
    
    attempts.forEach(attempt => {
        const attemptItem = document.createElement('div');
        attemptItem.className = 'attempt-item';
        
        const deleteButton = document.createElement('button');
        deleteButton.className = 'delete-attempt';
        deleteButton.innerHTML = '&times;';
        deleteButton.addEventListener('click', () => deleteAttempt(attempt.id));
        
        attemptItem.innerHTML = `
            <h4>${attempt.name}</h4>
            <p>Дата: ${attempt.date}</p>
            <p>Результат: ${attempt.score} из ${questions.length} (${attempt.percentage}%)</p>
        `;
        
        attemptItem.appendChild(deleteButton);
        attemptsList.appendChild(attemptItem);
    });
}

function deleteAttempt(id) {
    attempts = attempts.filter(attempt => attempt.id !== id);
    localStorage.setItem('attempts', JSON.stringify(attempts));
    updateAttemptsList();
}

function showAllQuestions() {
    const modal = document.getElementById('allQuestionsModal');
    const allQuestionsList = document.getElementById('allQuestionsList');
    allQuestionsList.innerHTML = '';
    
    questions.forEach((question, index) => {
        const questionItem = document.createElement('div');
        questionItem.className = 'question-item';
        
        const userAnswer = userAnswers[index];
        
        questionItem.innerHTML = `
            <h3>Вопрос ${index + 1}: ${question.question}</h3>
        `;
        
        question.answers.forEach((answer, answerIndex) => {
            const answerItem = document.createElement('div');
            answerItem.className = 'answer-item';
            
            if (userAnswer) {
                if (answerIndex === question.correctAnswer) {
                    answerItem.classList.add('correct');
                } else if (answerIndex === userAnswer.selectedAnswer) {
                    answerItem.classList.add('incorrect');
                }
            }
            
            if (userAnswer && answerIndex === userAnswer.selectedAnswer) {
                answerItem.classList.add('selected');
            }
            
            answerItem.textContent = answer;
            questionItem.appendChild(answerItem);
        });
        
        allQuestionsList.appendChild(questionItem);
    });
    
    modal.style.display = 'block';
}

function showResults() {
    const finalScore = document.getElementById('finalScore');
    const percentageScore = document.getElementById('percentageScore');
    const scorePercentage = (score / questions.length) * 100;
    
    finalScore.textContent = score;
    percentageScore.textContent = Math.round(scorePercentage);

    const ctx = document.getElementById('resultChart').getContext('2d');
    new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: ['Правильные ответы', 'Неправильные ответы'],
            datasets: [{
                data: [score, questions.length - score],
                backgroundColor: ['#4CAF50', '#f44336']
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false
        }
    });
    
    updateAttemptsList();
}

// Инициализация
document.getElementById('restartButton').addEventListener('click', () => {
    currentQuestionIndex = 0;
    score = 0;
    answeredQuestions.clear();
    userAnswers = [];
    showQuestion();
});

document.getElementById('saveAttemptButton').addEventListener('click', saveAttempt);

document.getElementById('showAllQuestionsButton').addEventListener('click', showAllQuestions);

document.querySelector('.close-button').addEventListener('click', () => {
    document.getElementById('allQuestionsModal').style.display = 'none';
});

window.addEventListener('click', (event) => {
    const modal = document.getElementById('allQuestionsModal');
    if (event.target === modal) {
        modal.style.display = 'none';
    }
});

// Инициализация теста
showQuestion();
updateAttemptsList(); 
